% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_efa.R
\name{simulate_efa}
\alias{simulate_efa}
\title{Simulate Likert Scale Data for Scale Development}
\usage{
simulate_efa(
  model_syntax,
  items_to_drop = list(),
  n_obs = 300,
  likert_points = 5,
  skew_params = list(good = -0.5, bad = 2, jitter = 0.2),
  ia_thresholds = list(citc = 0.2, p_val = 0.05),
  efa_thresholds = list(main_load = 0.4, cross_load = 0.35),
  details = FALSE
)
}
\arguments{
\item{model_syntax}{A string containing the factor structure in lavaan syntax (e.g., 'f1 =~ x1 + x2').}

\item{items_to_drop}{A named list specifying items to be manipulated to fail at specific stages.
Example: \code{list(stage1 = c("x1"), stage2 = c("x5"))}.}

\item{n_obs}{Integer. Sample size (default = 300).}

\item{likert_points}{Integer. Number of points on the Likert scale (default = 5).}

\item{skew_params}{A named list controlling skewness for realism.
\code{good}: skewness for normal items (e.g., -0.5).
\code{bad}: skewness for Stage 1 bad items (e.g., 2.0).
\code{jitter}: random noise added to skewness.}

\item{ia_thresholds}{A named list of thresholds for Item Analysis logic checks.
\code{citc}: Corrected Item-Total Correlation threshold (default 0.2).
\code{p_val}: P-value threshold for Critical Ratio (CR) t-test (default 0.05).}

\item{efa_thresholds}{A named list of thresholds for EFA logic checks.
\code{main_load}: Minimum main loading (default 0.4).
\code{cross_load}: Maximum allowed cross-loading (default 0.35).}

\item{details}{Logical.
If \code{FALSE} (default), prints only the summary logs of items recommended for deletion.
If \code{TRUE}, prints detailed statistical tables (Item Analysis with stars) and detailed EFA results (using bruceR).}
}
\value{
A \code{data.frame} containing the simulated Likert scale data.
}
\description{
Generates simulated Likert scale data based on a structural model (lavaan syntax).
It allows specific items to be designated as "bad items" designed to be dropped
during Item Analysis (Stage 1) or Exploratory Factor Analysis (Stage 2).
}
\examples{
\dontrun{
# Example 1: Unidimensional Model (1 factor, 10 items)
# x1, x2: Bad items for Stage 1 (Low CITC)
# x10: Bad item for Stage 2 (Low Loading)
# Note: We use 10 items to ensure enough remain for EFA after dropping bad ones.
model_uni <- 'F1 =~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8 + x9 + x10'
bad_uni <- list(stage1 = c("x1", "x2"), stage2 = c("x10"))

df_uni <- simulate_efa(
  model_syntax = model_uni,
  items_to_drop = bad_uni,
  n_obs = 300,
  details = TRUE
)

# Example 2: Multidimensional Model (2 factors, 10 items)
# x1: Bad for Stage 1
# x6: Bad for Stage 2 (Cross-loading)
model_multi <- '
  F1 =~ x1 + x2 + x3 + x4 + x5
  F2 =~ x6 + x7 + x8 + x9 + x10
'
bad_multi <- list(stage1 = c("x1"), stage2 = c("x6"))

df_multi <- simulate_efa(
  model_syntax = model_multi,
  items_to_drop = bad_multi,
  n_obs = 500,
  skew_params = list(good = -0.5, bad = 2.0, jitter = 0.2),
  details = FALSE # Will still print summary of drops
)
}
}
