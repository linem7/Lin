% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interative_removing.R
\name{interative_removing}
\alias{interative_removing}
\title{Removal-only iterative cleaning to meet reliability/paths/fit}
\usage{
interative_removing(
  data,
  model_configs,
  var_list = NULL,
  initial_remove_pct = 0.05,
  pct_increment = 0.05,
  max_iterations = 10,
  max_total_remove_pct = 0.5,
  seed = NULL
)
}
\arguments{
\item{data}{data.frame of observed variables.}

\item{model_configs}{named list with elements containing `model` (lavaan syntax)
and optional `key_paths` (character vector of labeled paths to test).}

\item{var_list}{optional named list of measurement models (lavaan syntax) keyed by construct name.}

\item{initial_remove_pct}{numeric in (0,1], initial removal proportion per round (default 0.05).}

\item{pct_increment}{numeric in (0,1], increment added to removal proportion each round (default 0.05).}

\item{max_iterations}{integer, maximum number of iterations (default 10).}

\item{max_total_remove_pct}{numeric in (0,1], cap on cumulative removals relative to initial n (default 0.5).}

\item{seed}{optional integer seed for reproducibility.}
}
\value{
A list with elements:
  - `cleaned_data`: the cleaned data.frame
  - `iterations`: number of iterations performed
  - `initial_n`: initial sample size
  - `final_n`: final sample size
  - `total_removed`: number of removed rows
  - `removed_row_ids`: original row ids removed
  - `removal_proportion`: last round removal proportion
  - `final_results`: evaluation results from the last round
}
\description{
Iteratively removes problematic cases from a dataset until all criteria
are satisfied: (1) reliability (first-order dimensions >= 0.70 and pooled
second-order alpha >= 0.80), (2) key path significance (p < 0.05 for
labeled paths), and (3) fit indices (CFI >= 0.90; RMSEA <= 0.08).
}
\details{
Focus priority per round: Fit > Paths > Reliability. When focusing on
reliability (or auto mode), cases are selected via a greedy, case-deleted
Cronbach's alpha improvement (Method 1). Otherwise a generic fallback
selects cases by the sum of absolute z-scores across variables.

This function mutates a temporary `..row_id` to map removals back to
original rows; it is removed before returning.
}
\section{Criteria}{

- Reliability: first-order dimensions >= 0.70; second-order pooled alpha >= 0.80.
- Paths: labeled paths significant at p < 0.05.
- Fit: CFI >= 0.90; RMSEA <= 0.08.
}

\section{Notes}{

- Requires lavaan. Do not call `library(lavaan)` inside package code; instead
  use NAMESPACE imports. See `@importFrom` below.
- The greedy reliability improvement can be compute-intensive for large n;
  consider pre-filtering candidates for performance if needed.
}

\seealso{
calculate_reliability_alpha, check_all_criteria, identify_bad_cases
}
