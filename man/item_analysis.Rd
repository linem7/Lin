% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/item_analysis.R
\name{item_analysis}
\alias{item_analysis}
\title{Item Analysis for Classical Test Theory}
\usage{
item_analysis(data, pattern, indices, digits = 3, total = TRUE, ...)
}
\arguments{
\item{data}{A data frame containing item response columns.}

\item{pattern}{A glue‐style pattern for item names (e.g. `"item{i}"`).
The placeholder `i` will be filled by each value in `indices`.}

\item{indices}{An integer vector of indices to substitute into `pattern`.
For example, `pattern = "item{i}", indices = 1:5` selects `"item1"` … `"item5"`.}

\item{digits}{Integer; number of decimal places for skewness, kurtosis, CR, CITC,
and alpha‐if‐deleted values. Means and SDs are always formatted to two decimals.
Default is 3.}

\item{total}{Logical; if `TRUE`, prepends a “Total” column with the overall
Cronbach’s α in the first row and blanks elsewhere. Default is `TRUE`.}

\item{...}{Additional arguments passed to `psych::alpha()` (e.g.
`check.keys = TRUE` to auto‐flip negatively keyed items).}
}
\value{
A data frame with one row per item and the following columns:
\item{Mean}{Item mean score.}
\item{SD}{Standard deviation of the item.}
\item{Skew}{Skewness of the item distribution.}
\item{Kurt}{Kurtosis of the item distribution.}
\item{CR}{t-value from high vs. low group discrimination, with significance stars.}
\item{Alpha if deleted}{Cronbach’s α when the item is removed.}
\item{CITC}{Corrected item–total correlation, with significance stars.}
\item{Total (optional)}{Overall α in the first row; blanks in remaining rows.}
}
\description{
Computes a variety of item‐level statistics for scales (e.g., means, SDs,
skewness, kurtosis, extreme‐group discrimination, Cronbach’s α if item deleted,
and corrected item–total correlations with significance stars), plus overall
reliability.
}
\details{
The function constructs item names using \code{glue::glue()} with the provided \code{pattern} and \code{indices}, then selects those columns from the input \code{data}.

To assess internal consistency, it computes overall reliability using \code{psych::alpha()} and extracts the \code{alpha.drop} table to obtain Cronbach’s α if each item were deleted. Total scores are calculated by summing across all selected items. Based on these scores, the function defines high and low performance groups using the 27th and 73rd percentiles, respectively.

Descriptive statistics, including mean, standard deviation, skewness, and kurtosis, are calculated with \code{psych::describe()}. Means and SDs are formatted to two decimal places, while skewness and kurtosis are rounded based on the \code{digits} argument.

Discrimination (CR) is assessed through two-sample t-tests (\code{t.test()} with \code{var.equal = TRUE}) comparing high and low groups. t-values are formatted and annotated with significance stars. The corrected item–total correlation (CITC) is computed by correlating each item with the total score excluding that item, and formatted similarly with stars based on p-values.

Finally, all results—including descriptives, CR, α if deleted, CITC, and optionally the overall α—are merged into a tidy data frame. And the overall α can be displayed in a “Total” column in the first row if requested.
}
\examples{
data(good_rel)
data(poor_rel)

# Good‐reliability example
# good_rel: a data.frame where items 1–5 all load positively on one factor
item_analysis(good_rel, pattern = "item{i}", indices = 1:5)

# Use Lin::apa() format the final output in html
item_analysis(good_rel, pattern = "item{i}", indices = 1:5) \%>\% apa()#

# Poor‐reliability example
# poor_rel: a data.frame with random noise or mixed floor/ceiling effects
item_analysis(poor_rel, pattern = "item{i}", indices = 1:5, check.keys = TRUE)

}
