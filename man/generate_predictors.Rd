% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pridict_sim.R
\name{generate_predictors}
\alias{generate_predictors}
\title{Generate Predictors Based on an Existing Outcome Variable}
\usage{
generate_predictors(y, predictor_configs)
}
\arguments{
\item{y}{A numeric vector. The existing outcome variable (e.g., a Likert scale score).}

\item{predictor_configs}{A list of lists. Each sub-list represents a predictor to be generated
and must contain:
\itemize{
  \item \code{name}: String. The name of the new variable.
  \item \code{probs}: Numeric vector. The proportions for each category (e.g., \code{c(0.4, 0.6)}).
  \item \code{significant}: Logical. Whether the variable should be statistically significant.
  \item \code{effect_r}: (Optional) Numeric. The target correlation coefficient (-1 to 1).
    If provided, this takes precedence over the \code{significant} flag.
}}
}
\value{
A data frame containing the original outcome variable and the newly generated predictors.
}
\description{
This function simulates categorical or ordinal predictor variables based on an existing
continuous or Likert-scale outcome variable. It uses a latent variable approach to ensure
the generated predictors maintain specific statistical relationships (correlation/significance)
with the outcome.
}
\examples{
\dontrun{
set.seed(123)
N <- 200
# Simulate an existing Likert outcome variable (1-7 scale)
existing_outcome <- sample(1:7, N, replace = TRUE,
                           prob = c(0.05, 0.1, 0.15, 0.3, 0.2, 0.15, 0.05))

my_configs <- list(
  # Variable 1: Gender (2 categories, not significant but with slight specific noise)
  list(
    name = "Gender",
    probs = c(0.4, 0.6),      # Category 1: 40\%, Category 2: 60\%
    significant = FALSE,      # Not significant
    effect_r = 0.1            # Weak specific correlation
  ),
  # Variable 2: Education (5 categories, significant, default correlation)
  list(
    name = "Education",
    probs = rep(0.2, 5),      # Equal proportions
    significant = TRUE,       # Significant
    effect_r = 0.4            # Medium correlation
  ),
  # Variable 3: Income Group (3 categories, custom props, strong correlation)
  list(
    name = "Income_Group",
    probs = c(0.2, 0.5, 0.3), # 20\%, 50\%, 30\%
    significant = TRUE,
    effect_r = 0.65           # Strong correlation
  )
)

final_data <- generate_predictors(existing_outcome, my_configs)
validate_simulation(final_data, outcome_col = "outcome")
}
}
