% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_table.R
\name{fit_table}
\alias{fit_table}
\title{Create a Model Fit Table from MplusAutomation Output}
\usage{
fit_table(
  ...,
  indices = character(0),
  ref = c("last", "first"),
  diffTest = TRUE,
  digits = 3
)
}
\arguments{
\item{...}{One or more model objects or lists of models generated by \code{readModels} in MplusAutomation.}

\item{indices}{A character vector of additional indices to be reported. The default fit indices always include
\code{Chisq}, \code{df}, \code{chisq/df}, \code{CFI}, \code{TLI}, \code{RMSEA}, and \code{SRMR}. To include
difference metrics for \code{AIC} and \code{BIC}, include these in the vector.}

\item{ref}{Character string indicating the reference model for comparison. Either
\code{"last"} (default; compare to the previous model) or \code{"first"}.}

\item{diffTest}{Logical. If \code{TRUE} (default), the function includes difference metrics
(changes in CFI, RMSEA, AIC, BIC, and chi-square difference).}

\item{digits}{Integer specifying the number of digits for reporting the indices (except for df, which is always an integer).}
}
\value{
A \code{data.table} (data.frame) with the selected fit indices and, if requested,
  the computed difference metrics.
}
\description{
This function extracts summary statistics from one or more Mplus models generated by
the \code{MplusAutomation} package and creates a table of fit indices. It supports both
single model objects and lists of models. In the case of mixed input, the function flattens the inputs
so that each model's summary is processed.
}
\details{
For model comparison, the function computes chi-square differences using:
\itemize{
  \item For \code{"ML"} models: a simple difference in chi-square values and degrees of freedom.
  \item For \code{"MLR"}, \code{"MLM"}, or \code{"WLSM"} models: a log-likelihood based chi-square
        difference test with a scaling correction factor.
}

In addition, a new fit index, \code{"chisq/df"}, is calculated as the chi-square value divided by its
degrees of freedom. The default fit indices reported are \code{Models}, \code{Chisq}, \code{df}, \code{chisq/df},
\code{CFI}, \code{TLI}, \code{RMSEA}, and \code{SRMR}. Any additional indices provided via the
\code{indices} argument (e.g., \code{AIC} or \code{BIC}) are included alongside the defaults.

When \code{diffTest} is \code{TRUE}, the function also computes change metrics for select fit indices.
The difference metrics are reported in the following order:
\enumerate{
  \item Chi-square difference and its p-value: \code{ΔChisq} and \code{p_ΔChisq}.
  \item Changes in CFI and RMSEA: \code{ΔCFI} and \code{ΔRMSEA}.
  \item Changes in AIC and BIC: \code{ΔAIC} and \code{ΔBIC} (computed only if \code{AIC} and \code{BIC} are specified in the \code{indices} argument).
}

The final table columns are ordered with the default indices first (i.e.,
\code{c("Models", "Chisq", "df", "chisq/df", "CFI", "TLI", "RMSEA", "SRMR")}), followed by any available
LL, AIC, and BIC values, and finally the difference metrics in the order described above.
}
\examples{
\dontrun{
  # Example with a single model object:
  fit_table(models$model1)

  # Example with a list of models:
  fit_table(list(models$model1, models$model2))

  # Example with additional indices and difference metrics for AIC and BIC:
  fit_table(models$model1, indices = c("AIC", "BIC"))
}

}
